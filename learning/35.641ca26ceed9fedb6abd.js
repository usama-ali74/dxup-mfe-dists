"use strict";(globalThis.webpackChunk_edx_frontend_app_learning=globalThis.webpackChunk_edx_frontend_app_learning||[]).push([[35],{18367:(e,n,t)=>{t.d(n,{Z:()=>i});var s=t(89526),o=t(86615),l=t(22778),r=t(84790),a=t(76079);const i=function(e,n,i){const[c,u]=(0,s.useState)(!1),{addFlash:d}=(0,s.useContext)(l.h1);return{enrollClickHandler:(0,s.useCallback)((()=>{u(!0),async function(e){const n=`${(0,a.getConfig)().LMS_BASE_URL}/api/enrollment/v1/enrollment`,{data:t}=await(0,r.kj)().post(n,{course_details:{course_id:e}});return t}(e).then((()=>{d({dismissible:!0,flash:!0,text:i,type:l.CH.SUCCESS,topic:"course"}),u(!1),(0,o.hC)("edx.bi.user.course-home.enrollment",{org_key:n,courserun_key:e}),t.g.location.reload()}))}),[d,e,n,i]),loading:c}}},55374:(e,n,t)=>{t.d(n,{Z:()=>s});const s=(0,t(93477).vU)({alert:{id:"learning.enrollment.alert",defaultMessage:"You must be enrolled in the course to see course content.",description:"Message shown to indicate that a user needs to enroll in a course prior to viewing the course content.  Shown as part of an alert, along with a link to enroll."},staffAlert:{id:"learning.staff.enrollment.alert",defaultMessage:"You are viewing this course as staff, and are not enrolled.",description:"Message shown to indicate that a user is not enrolled, but is able to view a course anyway because they are staff. Shown as part of an alert, along with a link to enroll."},enrollNowInline:{id:"learning.enrollment.enrollNow.Inline",defaultMessage:"Enroll now",description:"A link prompting the user to click on it to enroll in the currently viewed course.This text is meant to be used at the beginning of a sentence (example: Enroll now to view course content.)"},enrollNowSentence:{id:"learning.enrollment.enrollNow.Sentence",defaultMessage:"Enroll now.",description:"A link prompting the user to click on it to enroll in the currently viewed course."},success:{id:"learning.enrollment.success",defaultMessage:"You've successfully enrolled in this course!",description:"A message telling the user that their course enrollment was successful."}})},34777:(e,n,t)=>{t.r(n),t.d(n,{default:()=>x}),t(89526);var s=t(56549),o=t(48387),l=t(2652),r=t.n(l),a=t(25180),i=t(95765),c=t(11514),u=t(36284),d=t(4606),g=t(81152),f=t(56132),h=t(55374),p=t(18367),m=t(67557);const w=e=>{let{intl:n,payload:t}=e;const{canEnroll:s,courseId:o,extraText:l,isStaff:r}=t,{org:w}=(0,f.tT)("courseHomeMeta",o),{enrollClickHandler:x,loading:k}=(0,p.Z)(o,w,n.formatMessage(h.Z.success));let M=n.formatMessage(h.Z.alert),b="warning",v=c.Z;r?(M=n.formatMessage(h.Z.staffAlert),b="info",v=u.Z):l&&(M=`${M} ${l}`);const y=s&&(0,m.jsx)(a.ZP,{disabled:k,variant:"link",className:"p-0 border-0 align-top mx-1",size:"sm",style:{textDecoration:"underline"},onClick:x,children:n.formatMessage(h.Z.enrollNowSentence)});return(0,m.jsx)(i.Z,{variant:b,icon:v,children:(0,m.jsxs)("div",{className:"d-flex",children:[M,y,k&&(0,m.jsx)(d.G,{icon:g.LM,spin:!0})]})})};w.propTypes={intl:s.gm.isRequired,payload:r().shape({canEnroll:r().bool,courseId:r().string,extraText:r().string,isStaff:r().bool}).isRequired};const x=(0,o.Z)(w)},81152:(e,n)=>{n.DF={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"]},n.LM=n.DF}}]);
//# sourceMappingURL=35.641ca26ceed9fedb6abd.js.map