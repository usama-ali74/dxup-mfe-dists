{"version":3,"file":"106.7f702aaeb1d107a6a9e9.js","mappings":"gSAEA,MAQA,GARiBA,EAAAA,EAAAA,IAAe,CAC9BC,WAAY,CACVC,GAAI,uCACJC,eAAgB,cAChBC,YAAa,4C,o/BCIjB,MAAMC,EAAwBC,IAAuB,IAAtB,KAAEC,EAAI,QAAEC,GAASF,EAC9C,MAAM,iBACJG,EAAgB,SAChBC,EAAQ,IACRC,EAAG,aACHC,EAAY,kBACZC,GACEL,EACEM,EAAqBF,EAAe,CAAEG,SAAUH,GAAiB,CAAC,EAExE,IAAKH,EACH,OAAO,KAGT,MAAM,eACJO,EAAc,gBACdC,EAAe,WACfC,GACET,EAaJ,IAAIU,EAAkB,KAmCtB,OAlCIF,GAAmBC,IACrBC,GACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAACC,EAAAA,EAAgB,CACftB,GAAG,qCACHC,eAAe,4FACfC,YAAY,gHACZqB,OAAQ,CACNC,MACEH,EAAAA,EAAAA,KAACI,EAAAA,GAAaC,EAAA,CAEZC,IAAI,UACJC,MAAM,QACNC,KAAK,UACLC,MAAOf,GACHH,GALA,sCASV,KAEFS,EAAAA,EAAAA,KAACU,EAAAA,GAAS,CACRC,UAAU,mBACVC,MAAO,CAAEC,eAAgB,aACzBC,YAAanB,EACboB,QAtCSC,MACfC,EAAAA,EAAAA,IAAe,wCAAyC,CACtDC,QAAS9B,EACT+B,cAAehC,EACfiC,aAAc,aACdC,SAAW,GAAE/B,yBACbgC,SAAU,OACVC,SAAUjC,GACV,EA8BsBS,SAEjBf,EAAKwC,cAAcC,EAAS/C,mBAOnCmB,EAAAA,EAAAA,MAAC6B,EAAAA,EAAK,CAACC,QAAQ,OAAOC,KAAMC,EAAAA,EAAK9B,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,QAAMW,UAAU,mBAAkBZ,UAChCC,EAAAA,EAAAA,KAACC,EAAAA,EAAgB,CACftB,GAAG,mCACHC,eAAe,8BACfC,YAAY,iCACZqB,OAAQ,CACNC,MACEH,EAAAA,EAAAA,KAACI,EAAAA,GAAaC,EAAA,CAEZC,IAAI,UACJC,MAAM,QACNC,KAAK,UACLC,MAAOhB,GACHF,GALA,oCAWdS,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAACC,EAAAA,EAAgB,CACftB,GAAG,iCACHC,eAAe,0EACfC,YAAY,sEACZqB,OAAQ,CACNC,MACEH,EAAAA,EAAAA,KAACI,EAAAA,GAAaC,EAAA,CAEZC,IAAI,UACJC,MAAM,QACNC,KAAK,UACLC,MAAOhB,GACHF,GALA,+BAUXK,IACK,EAIZd,EAAsBgD,UAAY,CAChC9C,KAAM+C,EAAAA,GAAUC,WAChB/C,QAASgD,IAAAA,MAAgB,CACvB/C,iBAAkB+C,IAAAA,MAAgB,CAChCxC,eAAgBwC,IAAAA,OAAiBD,WACjCE,0BAA2BD,IAAAA,KAAeD,WAC1CtC,gBAAiBuC,IAAAA,OACjBtC,WAAYsC,IAAAA,SACXD,WACH7C,SAAU8C,IAAAA,OAAiBD,WAC3B5C,IAAK6C,IAAAA,OAAiBD,WACtB3C,aAAc4C,IAAAA,OAAiBD,WAC/B1C,kBAAmB2C,IAAAA,OAAiBD,aACnCA,YAGL,SAAeG,EAAAA,EAAAA,GAAWrD,E","sources":["webpack://@edx/frontend-app-learning/./src/alerts/access-expiration-alert/messages.js","webpack://@edx/frontend-app-learning/./src/alerts/access-expiration-alert/AccessExpirationAlert.jsx"],"sourcesContent":["import { defineMessages } from '@edx/frontend-platform/i18n';\n\nconst messages = defineMessages({\n  upgradeNow: {\n    id: 'learning.accessExpiration.upgradeNow',\n    defaultMessage: 'Upgrade now',\n    description: 'The anchor text for the upgrading link',\n  },\n});\n\nexport default messages;\n","import PropTypes from 'prop-types';\nimport { sendTrackEvent } from '@edx/frontend-platform/analytics';\nimport {\n  FormattedMessage, FormattedDate, injectIntl, intlShape,\n} from '@edx/frontend-platform/i18n';\nimport { Alert, Hyperlink } from '@edx/paragon';\nimport { Info } from '@edx/paragon/icons';\n\nimport messages from './messages';\n\nconst AccessExpirationAlert = ({ intl, payload }) => {\n  const {\n    accessExpiration,\n    courseId,\n    org,\n    userTimezone,\n    analyticsPageName,\n  } = payload;\n  const timezoneFormatArgs = userTimezone ? { timeZone: userTimezone } : {};\n\n  if (!accessExpiration) {\n    return null;\n  }\n\n  const {\n    expirationDate,\n    upgradeDeadline,\n    upgradeUrl,\n  } = accessExpiration;\n\n  const logClick = () => {\n    sendTrackEvent('edx.bi.ecommerce.upsell_links_clicked', {\n      org_key: org,\n      courserun_key: courseId,\n      linkCategory: 'FBE_banner',\n      linkName: `${analyticsPageName}_audit_access_expires`,\n      linkType: 'link',\n      pageName: analyticsPageName,\n    });\n  };\n\n  let deadlineMessage = null;\n  if (upgradeDeadline && upgradeUrl) {\n    deadlineMessage = (\n      <>\n        <br />\n        <FormattedMessage\n          id=\"learning.accessExpiration.deadline\"\n          defaultMessage=\"Upgrade by {date} to get unlimited access to the course as long as it exists on the site.\"\n          description=\"Warning shown to learner to upgrade while they are enrolled on the audit version and it's possible to upgrade\"\n          values={{\n            date: (\n              <FormattedDate\n                key=\"accessExpirationUpgradeDeadline\"\n                day=\"numeric\"\n                month=\"short\"\n                year=\"numeric\"\n                value={upgradeDeadline}\n                {...timezoneFormatArgs}\n              />\n            ),\n          }}\n        />\n        &nbsp;\n        <Hyperlink\n          className=\"font-weight-bold\"\n          style={{ textDecoration: 'underline' }}\n          destination={upgradeUrl}\n          onClick={logClick}\n        >\n          {intl.formatMessage(messages.upgradeNow)}\n        </Hyperlink>\n      </>\n    );\n  }\n\n  return (\n    <Alert variant=\"info\" icon={Info}>\n      <span className=\"font-weight-bold\">\n        <FormattedMessage\n          id=\"learning.accessExpiration.header\"\n          defaultMessage=\"Audit Access Expires {date}\"\n          description=\"Headline for auditing deadline\"\n          values={{\n            date: (\n              <FormattedDate\n                key=\"accessExpirationHeaderDate\"\n                day=\"numeric\"\n                month=\"short\"\n                year=\"numeric\"\n                value={expirationDate}\n                {...timezoneFormatArgs}\n              />\n            ),\n          }}\n        />\n      </span>\n      <br />\n      <FormattedMessage\n        id=\"learning.accessExpiration.body\"\n        defaultMessage=\"You lose all access to this course, including your progress, on {date}.\"\n        description=\"Message body to tell learner the consequences of course expiration.\"\n        values={{\n          date: (\n            <FormattedDate\n              key=\"accessExpirationBodyDate\"\n              day=\"numeric\"\n              month=\"short\"\n              year=\"numeric\"\n              value={expirationDate}\n              {...timezoneFormatArgs}\n            />\n          ),\n        }}\n      />\n      {deadlineMessage}\n    </Alert>\n  );\n};\n\nAccessExpirationAlert.propTypes = {\n  intl: intlShape.isRequired,\n  payload: PropTypes.shape({\n    accessExpiration: PropTypes.shape({\n      expirationDate: PropTypes.string.isRequired,\n      masqueradingExpiredCourse: PropTypes.bool.isRequired,\n      upgradeDeadline: PropTypes.string,\n      upgradeUrl: PropTypes.string,\n    }).isRequired,\n    courseId: PropTypes.string.isRequired,\n    org: PropTypes.string.isRequired,\n    userTimezone: PropTypes.string.isRequired,\n    analyticsPageName: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default injectIntl(AccessExpirationAlert);\n"],"names":["defineMessages","upgradeNow","id","defaultMessage","description","AccessExpirationAlert","_ref","intl","payload","accessExpiration","courseId","org","userTimezone","analyticsPageName","timezoneFormatArgs","timeZone","expirationDate","upgradeDeadline","upgradeUrl","deadlineMessage","_jsxs","_Fragment","children","_jsx","FormattedMessage","values","date","FormattedDate","_objectSpread","day","month","year","value","Hyperlink","className","style","textDecoration","destination","onClick","logClick","sendTrackEvent","org_key","courserun_key","linkCategory","linkName","linkType","pageName","formatMessage","messages","Alert","variant","icon","Info","propTypes","intlShape","isRequired","PropTypes","masqueradingExpiredCourse","injectIntl"],"sourceRoot":""}